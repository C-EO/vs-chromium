<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <link href="css/site.css" rel="stylesheet" type="text/css" />
  <title>Vs Chromium - Overview</title>
</head>
<body>

<div id="container">

<div id="sidebar" class="floating">
  <ul>
    <li>
      <div class="first"><a href="#index">Overview</a></div>
      <ul class="ul-second">
        <li><a href="#feature-summary">Feature summary</a></li>
      </ul>
    </li>
    <li>
      <div class="first"><a href="#getting-started">Getting started</a></div>
      <ul class="ul-second">
        <li><a href="#requirements">Requirements</a></li>
        <li><a href="#installation">Installation</a></li>
        <li><a href="#getting-started-project-file">Existing projects</a></li>
        <li><a href="#getting-started-chromium">Chromium enlistments</a></li>
      </ul>
    </li>
    <li>
      <div class="first"><a href="#search-engine">Search engine</a></div>
      <ul class="ul-second">
        <li><a href="#source-explorer">Source Explorer</a></li>
        <li><a href="#code-search">Code Search</a></li>
        <li><a href="#code-search-search-code">Search Code syntax</a></li>
        <li><a href="#code-search-file-paths">File Paths syntax</a></li>
      </ul>
    </li>
    <li>
      <div class="first"><a href="#editor-features">Editor features</a></div>
      <ul class="ul-second">
        <li><a href="#chromium-style-checker">Coding Style checker</a></li>
        <li><a href="#format-comment">Format comment</a></li>
        <li><a href="#pmconsole">Navigate to Errors</a></li>
      </ul>
    </li>
    <li>
      <div class="first"><a href="#debugger-features">Debugger Features</a></div>
      <ul class="ul-second">
        <li><a href="#attach-to-chrome">Attach to Chrome</a></li>
        <li><a href="#advanced-visualizers">Advanced Debug Visualizers</a></li>
      </ul>
    </li>
    <li>
      <div class="first"><a href="#whatsnew">What's new</a></div>
    </li>
    <li>
      <div class="first"><a href="#keyboard-shortcuts">Keyboard shortcuts</a></div>
    </li>
    <li>
      <div class="first"><a href="#configuration">Configuration</a></div>
      <ul class="ul-second">
        <li><a href="#project-files">Project files</a></li>
        <li><a href="#tools-options">Tools&nbsp;|&nbsp;Options pages</a></li>
        <li><a href="#configuration-files">Global configuration files</a></li>
      </ul>
    </li>
    <li>
      <div class="first"><a href="#tech-specs">Technical Specifications</a></div>
    </li>
  </ul>
</div> <!-- sidebar -->

<div id="content">
  <!--============================================================================-->
  <div id="index">
    <h1>Overview</h1>

    <p>
      VsChromium is a <a href="#installation">Visual Studio Extension</a>
      containing a collection of tools useful for editing, navigating and
      debugging code. Amongst other things, VsChromium offers full text
      <a href="#search-engine">search engine</a>, a fast
      and scalable alternative to the built-in "Find in Files" Visual Studio
      feature that can provide search results in less than 0.1 seconds
      for 100,000+ files.
    </p>

    <p>
      VsChromium was originally developed to help when contributing code to the
      <a href="http:/www.chromium.org" target="_blank">Chromium project</a>, but
      has evolved over time to become a more general purpose extension that can
      be useful for any project. Refer to 
      <a href="#getting-started">Getting started</a> section for
      installation and getting started instructions.
    </p>

    <!--============================================================================-->
    <h2 id="feature-summary">Feature summary</h2>

    <div class="table">
      <div class="column"></div>
      <div class="column"></div>
      <div class="row">
        <div class="cell">
          <p>
            VsChromium comes with a built-in
            <a href="#search-engine">full text search engine</a>, fast and
            scalable to hundred of thousands of text files.
            The <a href="#code-search">Code Search</a> tool window provides
            an alternative to Visual Studio's build-int Find In Files. It uses
            VsChromium search engine to provide search results in typically less
            than 0.1 sec even for the largest code bases, such as Chromium.
          </p>
          <p>
            Code Search is always one keystroke away, as hitting
            <span class="keyboard-shortcut">Ctrl-Shift-;</span> immediately starts
            a full text search with either the current editor selection, or the
            word at the current caret location.
          </p>
        </div>
        <div class="cell">
          <img src="Screenshots/0.1-CodeSearch.png"/>
        </div>
      </div>
    </div>

    <div class="table">
      <div class="column"></div>
      <div class="column"></div>
      <div class="row">
        <div class="cell">
          <img src="Screenshots/0.11-FilePaths.png"/>
        </div>
        <div class="cell">
          <p>
            Search options include <span class="highlight-inline">Match Case</span>,
            <span class="highlight-inline">Match Whole Word</span>,
            <span class="highlight-inline">Use Regular Expressions</span>
            and <span class="highlight-inline">Include Symlinks</span>.
          </p>
          <p>
            The scope of the search -
            <span class="highlight-inline">File Paths</span> - can be refined
            at any time using a <a href="#filepath-syntax">flexible syntax</a>
            for defining file name patterns.
          </p>
        </div>
      </div>
    </div>

    <div class="table">
      <div class="column"></div>
      <div class="column"></div>
      <div class="row">
        <div class="cell">
          <p>
            In addition to automatically recognizing Chromium enlistments,
            <a href="#code-search">Code Search</a> can now be enabled on any directory, project
            or solution by creating a <a href="#getting-started-project-file">custom project file</a>
            <span class="highlight-inline">vs-chromium-project.txt</span> anywhere on disk
            (see <a href="https://github.com/chromium/vs-chromium/blob/master/vs-chromium-project.txt"
                    target="_blank">here</a> for an example).
          </p>
          <p>
            The <a href="#search-engine">search engine</a> looks at the contents of each section to decide
            which files to load and index, automatically skipping binary files .
          </p>
          <p>
            When a <span class="highlight-inline">vs-chromium-project.txt</span> file is located in
            the same directory (or parent) as a Visual Studio Solution file (.sln), VsChromium
            automatically loads and activate the Search Engine when the solution is loaded in
            Visual Studio.
        </div>
        <div class="cell">
          <img src="Screenshots/0.2-ProjectFile.png"/>
        </div>
      </div>
    </div>

    <div class="table">
      <div class="column"></div>
      <div class="column"></div>
      <div class="row">
        <div class="cell">
          <img src="Screenshots/0.3-SourceExplorer.png"/>
        </div>
        <div class="cell">
          <p>
            <a href="#source-explorer">Source Explorer</a> offers a hierarchical
            view of the files and directories indexed by the
            <a href="#search-engine">search engine</a>.
          </p>

          <p>
            Source Explorer integrates with Visual Studio Solution Explorer as
            a custom project node, refreshed dynamically as files and directories
            change on disk, so there is no need to create and maintain an
            additional Visual Studio project file
          </p>
        </div>
      </div>
    </div>

    <div class="table">
      <div class="column"></div>
      <div class="column"></div>
      <div class="row">
        <div class="cell">
          <p>
            VsChromium features can be enabled, disabled and customized through custom
            <a href="#tools-options">Tools&nbsp;|&nbsp;Options</a> pages.
          </p>
        </div>
        <div class="cell">
          <img src="Screenshots/0.5-ToolsOptions.png"/>
        </div>
      </div>
    </div>

    <div class="table">
      <div class="column"></div>
      <div class="column"></div>
      <div class="row">
        <div class="cell">
          <img src="Screenshots/0.6-FormatComments.png"/>
        </div>
        <div class="cell">
          <a href="#format-comment">Format C# and C++ comments</a> to 80 columns using the
          <span class="keyboard-shortcut">Ctrl-K, C</span> keyboard shortcut.
        </div>
      </div>
    </div>

    <div class="table">
      <div class="column"></div>
      <div class="column"></div>
      <div class="row">
        <div class="cell">
          <p>
            Highlight common <a href="#chromium-style-checker">Chromium Coding Style</a> violation
            in c++ source and header files.
          </p>.
        </div>
        <div class="cell">
          <img src="Screenshots/0.7-CodingStyle.png"/>
        </div>
      </div>
    </div>

    <div class="table">
      <div class="column"></div>
      <div class="column"></div>
      <div class="row">
        <div class="cell">
          <img src="Screenshots/0.8-AttachToChrome.png"/>
        </div>
        <div class="cell">
          <p>
            <a href="#attach-to-chrome">Attach to Chrome</a> shows the list of running Chrome processed
            and allows debugging any of them. During debugging, custom Visual Studio Visualizers are defined
            to display common Chromium data structures in a user friendly format.
        </div>
      </div>
    </div>

  </div>
  <hr/>

  <!--============================================================================-->
  <div id="getting-started">
    <h1>Getting started</h1>

    <!--============================================================================-->
    <h2 id="requirements">Requirements</h2>
    <ul>
      <li>
        VsChromium is compatible with Visual Studio Pro 2013 and up, including
        the free <a href="https://www.visualstudio.com/en-us/products/visual-studio-community-vs.aspx" target="_blank">Visual Studio Community 2013</a>.
      </li>
      <li>
        A Windows 64-bit operating system is required.  Certain features are
        disabled for versions of Windows less than Windows 7.
      </li>
      <li>
        Note: Express editions of Visual Studio are <b>not</b> supported due to
        limitations of VS extensibility framework for Express.
      </li>
    </ul>

    <!--============================================================================-->
    <h2 id="installation">Installation</h2>
    <div class="table">
      <div class="column"></div>
      <div class="column"></div>
      <div class="row">
        <div class="cell" style="vertical-align: top">
          <ul>
            <li>
              Download the latest release of
              <a href="https://github.com/chromium/vs-chromium/releases/latest" target="_blank">VsChromium.vsix</a>
            </li>
            <li>Open the file (double click) to open the VSIX Installer dialog.</li>
            <li>Click "Install"</li>
            <li>Start Visual Studio (2013 or later)</li>
            <li>Go to "Tools | Extensions Manager..."</li>
            <li>Check the "VsChromium" extension is present and enabled.</li>
          </ul>
        </div>
        <div class="cell">
          <img src="Screenshots/VsixInstall.png" />
        </div>
      </div>
    </div>

    <img src="Screenshots/VsixEnable.png" />

    <!--============================================================================-->
    <h2 id="getting-started-project-file">Getting started with existing projects</h2>

    <p>
      The VsChromium <a href="#source-explorer">Source Explorer</a> and
      <a href="#search-engine">Code Search</a> features can be enabled for any
      existing project or directory on disk by creating a custom configuration file
      <span class="highlight-inline">vs-chromium-project.txt</span> in the top-level
      directory of the project.
    </p>

    <ul>
      <li>
        <p>Create a new empty text file and paste the following text in it:</p>
        <div style="border: black; border-width: 1px; border-style: solid;">
          <div>
            <code>
              <b>
                [SearchableFiles.include]<br/>
                *
              </b>
            </code>
          </div>
        </div>
        <p>
          Note: The single section above indicates that all files and sub directories should
          be included in the <a href="#source-explorer">Source Explorer</a> feature,
          and that all text files should be indexed for the
          <a href="#search-engine">Code Search</a> feature.
        </p>
      </li>
      <li>
        <p>
          Save the text file in the top level directory of the project to index and
          name it <span class="highlight-inline">vs-chromium-project.txt</span>
        </p>
        <p>
          Note: If you want Code Search and Source Explorer to be enabled automatically
          with a Visual Studio Solution, save the file next to the ".sln" file, or in any
          parent directory.
        </p>
      </li>
      <li>
        <p>
          The search engine should start loading files right away, and
          both <a href="#source-explorer">Source Explorer</a> and
          <a href="#code-search">Code Search</a> will be available shortly
          afterward.
        </p>
      </li>
    </ul>

    <p>See <a href="#project-files">Project file format</a> for a complete
      description of the supported syntax inside
      <span class="highlight-inline">vs-chromium-project.txt</span> files.</p>

    <!--============================================================================-->
    <h2 id="getting-started-chromium">Getting started with Chromium enlistments</h2>

    <div class="table">
      <div class="column"></div>
      <div class="column"></div>
      <div class="row">
        <div class="cell" style="vertical-align: top">
          <ul>
            <li>Open a source file fromd a Chromium enlistment on disk</li>
            <li>The search engine should start loading files right away, and
            both <a href="#source-explorer">Source Explorer</a> and
            <a href="#code-search">Code Search</a> will be available shortly
            afterward.</li>
          </ul>
        </div>
        <div class="cell">
          <img src="Screenshots/2.2-GettingStartedChromium.png"/>
        </div>
      </div>
    </div>

    <img src="Screenshots/2.4-GettingStartedChromium.png"/>

  </div>
  <hr/>

  <!--============================================================================-->
  <div id="search-engine">
    <h1>Code Search and Source Explorer</h1>
    <p>VsChromium has a built-in full text search engine that serves as the basis
    for both the Source Explorer and Code Search features:</p>

    <!--============================================================================-->
    <h2 id="source-explorer">Source explorer</h2>

    <p><span class="highlight-inline">Source Explorer</span> integrates in
    Visual Studio's build-in Solution Explorer and shows the hierarchy of
    directories and files loaded in the search engine. The contents
    updates automatically as files are changed on disk.</p>

    <div class="table">
      <div class="column"></div>
      <div class="column"></div>
      <div class="row">
        <div class="cell">
          <img src="Screenshots/0.3-SourceExplorer.png"/>
        </div>
        <div class="cell">
          <p>
            <a href="#source-explorer">Source Explorer</a> offers a hierarchical
            view of the files and directories indexed by the
            <a href="#search-engine">search engine</a>.
          </p>

        </div>
      </div>
    </div>

    <div class="table">
      <div class="column"></div>
      <div class="column"></div>
      <div class="row">
        <div class="cell">
        <p>Source Explorer supports many built-in Visual Studio features, such
        as searching the project for matching files and directories, and
        contextual menus.</p>
        </div>
        <div class="cell">
          <img src="Screenshots/SourceExplorerContextMenu.png"/>
        </div>
      </div>
    </div>

    <!--============================================================================-->
    <h2 id="code-search">Code Search</h2>

    <p><span class="highlight-inline">Code Search</span> is a
    Visual Studio Tool Window offering functionality similar to 'Find in Files',
    but with faster results. Code Search allows looking for any text using
    simple text patterns or regular expressions. Code Search is available
    through the <span class="highlight-inline">View | Other Windows</span>
    top level menu.</p>

    <div class="table">
      <div class="column"></div>
      <div class="column"></div>
      <div class="row">
        <div class="cell">
          <p>
            Code Search is always one keystroke away, as hitting
            <span class="keyboard-shortcut">Ctrl-Shift-;</span> immediately starts
            a full text search with either the current editor selection, or the
            word at the current caret location.
          </p>
        </div>
        <div class="cell">
          <img src="Screenshots/0.1-CodeSearch.png"/>
        </div>
      </div>
    </div>

    <div class="table">
      <div class="column"></div>
      <div class="column"></div>
      <div class="row">
        <div class="cell">
          <img src="Screenshots/0.11-FilePaths.png"/>
        </div>
        <div class="cell">
          <p>
            The scope of the search - &quot;File Paths&quot; - can be refined at any time using
            a <a href="#filepath-syntax">flexible syntax</a> for defining file name patterns.
          </p>
          <p>
            Search options include <span class="highlight-inline">Match&nbsp;Case</span>,
            <span class="highlight-inline">Match&nbsp;Whole&nbsp;Word</span> and
            <span class="highlight-inline">Use&nbsp;Regular&nbsp;Expressions</span>.
        </div>
      </div>
    </div>

  </div>

  <!--============================================================================-->
  <div id="code-search-search-code">
    <h2>Search Code syntax</h2>
    <p>
      The <span class="highlight-inline">Search Code</span> search box supports
      two syntax format, depending on the state of the
      <span class="highlight-inline">regex</span> option in the toolbar.
    </p>
    <ul>
      <li>For simple text search, the search pattern will be matched "as-is"
      when doing full text search, including white spaces, with the exception of</li>
        <ul>
          <li><span class="highlight-inline">*</span> matches a sequence of zero or
          more characters on the same line</li>
          <li><span class="highlight-inline">\</span> serves as an escape character
          for <span class="highlight-inline">\</span> and
          <span class="highlight-inline">*</span>.</li>
        </ul>
      <li>For regular expression searches, the search pattern follows the
      regular expressions permitted by the
      <a href="https://code.google.com/p/re2/wiki/Syntax"
      target="_blank">Google RE2</a> engine.</li>
    </ul>
  </div>

  <!--============================================================================-->
  <div id="code-search-file-paths">
    <h2>File Paths syntax</h2>
    <p>
      The <span class="highlight-inline">File Paths</span> search box has two
      purposes:
    </p>
    <ul>
    <li>When the Code Search box is empty, it is used to show the list of
    files matching the specified patten.</li>
    <li>When the Code Search box is not empty, it is used to filter the list of
    files considered for the full text search.</li>
    </ul>

    <h3 id="filepath-syntax">Syntax</h3>

    <p>
      The syntax for "File Paths" follow a subset of commonly used glob
      patterns (e.g. <a href="https://github.com/isaacs/node-glob#glob-primer"
      target="_blank">node-glob</a> or <a
      href="http://git-scm.com/docs/gitignore#_pattern_format"
      target="_blank">.gitignore</a>).
    </p>

    <ul>
      <li><span class="highlight-inline">;</span> is the separator for multiple
      entries (e.g. <span class="highlight-inline">*.txt;*.log</span>).
      <li>Path separators can be expressed as either
      <span class="highlight-inline">/</span> or
      <span class="highlight-inline">\</span></li>
      <li>Matching is performed against the file name portion of a path
      (e.g.<span class="highlight-inline">foo.txt</span> for the path
      <span class="highlight-inline">src/blah/boo/foo.txt</span>),
      unless a path separator is present.</li>
      <li><span class="highlight-inline">*</span> matches 0 or more characters
      in a single path portion.</li>
      <li><span class="highlight-inline">/</span> at the beginning of the path
      indicates a path relative to the top level directory of the project.</li>
      <li><span class="highlight-inline">/</span> at the end of the path
      indicates that portion of the path must be a directory name.</li>
      <li><span class="highlight-inline">**/</span> or
      <span class="highlight-inline">/**/</span> matches zero or more
      directories of a path</li>
      <li>If the path does not contain any <span class="highlight-inline">/</span>
      or <span class="highlight-inline">*</span>, a
      <span class="highlight-inline">*</span> is automatically added at the start
      and at the end of the pattern, to match sub-strings inside the file name
      portion of the path (e.g. <span class="highlight-inline">foo</span>
      matches <span class="highlight-inline">afoo1.txt</span>,
      <span class="highlight-inline">foo.txt</span>, etc).
    </ul>

    <p>Examples</p>
    <table>
      <thead>
        <tr>
          <th style="text-align: left">Pattern</th>
          <th style="text-align: left">Matches</th>
          </tr>
      </thead>
      <tbody>
        <tr>
          <td><span class="highlight-inline">foo</span></td>
          <td>Any file named "foobar.cc", "afoobar.txt", etc. in any
          directory of the project.</td>
        </tr>
        <tr>
          <td><span class="highlight-inline">f*oo*.txt</span></td>
          <td>Any file named "foo.txt", "f123oo.txt", "f123oo4bar.txt" etc.
          in any directory of the project.</td>
        </tr>
        <tr>
          <td><span class="highlight-inline">foo/bar.txt</span></td>
          <td>Any file named "bar.txt" inside a "foo" directory in any
          directory of the project.</td>
        </tr>
        <tr>
          <td><span class="highlight-inline">foo/</span></td>
          <td>All files under a "foo" directory (recursively) in any directory
          of the project.</td>
        </tr>
        <tr>
          <td><span class="highlight-inline">/foo</span></td>
          <td>All files under the "foo" directory in the top level directory
          of the project.</td>
        </tr>
        <tr>
          <td><span class="highlight-inline">/foo;/bar</span></td>
          <td>All files under the "foo" or "bar" directory in the top level
          directory of the project.</td>
        </tr>
        <tr>
          <td><span class="highlight-inline">foo/**/bar.txt</span></td>
          <td>Any file named "bar.txt" inside a directory or sub-directory of
          "foo" anywhere in project directory.</td>
        </tr>
      </tbody>
    </table>
  </div>


  <hr />

  <!--============================================================================-->
  <div id="editor-features">
    <h1>Editor features</h1>
  </div>

  <!--============================================================================-->
  <div id="chromium-style-checker">
    <h1>Chromium Coding Style checker</h1>
    <p>
      When a source file belonging to a Chromium enlistment is opened in the
      Visual studio editor, a few custom "classifiers" (or "colorizers") kick off
      and inspect the code for <a href="http://www.chromium.org/developers/coding-style">Coding Style</a>
      violations. Each violation is indicated with a red background highlighing the text
      violating a rule.
    </p>
    <p>List of supported style violations</p>
    <ul>
      <li>Lines longer than 80 columns (all text files)</li>
      <li>Trailing spaces (all text files)</li>
      <li>TAB instead of space characters (all text files)</li>
      <li>Invalid use of "else if" on new line (C++ file)</li>
      <li>Invalid indentation of "public:", etc. modifiers (C++ files)</li>
      <li>Space after "for" keyword (c++ files)</li>
      <li>Usage of CRLF instead of LF as end of line characters (all text files)</li>
    </ul>
    <p>
      Note: The set of rules currently supported is minimal but is helpful for a
      developer new to the Chromium Coding Style rules.
    </p>
    <div class="example">Example</div>
    <div class="example-text">
      The image below shows a source file violating a few rules: extra spaces
      at the end of a line, usage of the TAB character, incorrect indendation
      of the "public:" accessor keyword.
    </div>
    <p><img src="Screenshots/InvalidCharactersHighlight.png"/></p>
  </div>

  <!--============================================================================-->
  <div id="format-comment">
    <h1>Format comment</h1>
    <p>
      The Format Comment command (Ctrl-K C) allows formatting c++ style comment block
      (i.e. list of lines starting with "//") to wrap at 80 columns.
    </p>
    <ul>
      <li>If there is no text selection, Format Comment first expands the selection to
      contains the first line and last line of the comment block.</li>
      <li>If there is a text selection active, Format Comment formats only the
      block comment covered by the selection start and end lines.</li>
    </ul>
    <p><img src="Screenshots/0.6-FormatComments.png"/></p>
  </div>

  <!--============================================================================-->
  <div id="pmconsole">
    <h1>Navigate to Build Error</h1>
    <p>
      When using the <span class="highlight-inline">Package Manager Console</span>
      tool window as an integrated command prompt, for example to build
      Chromium using "ninja", build errors from various tools are shown as
      hyperlinks that can be clicked to open the corresponding file
      in the editor, as illustrated in the picture below.
    </p>
    <p><img src="Screenshots/PmConsoleBuildError.png"/></p>
  </div>

  <hr />

  <!--============================================================================-->
  <div id="debugger-features">
    <h1>Debugger features</h1>
  </div>

  <!--============================================================================-->
  <div id="attach-to-chrome">
    <h2>Attach to Chrome</h2>
    <p>
      The Attach to Chrome dialog is a replacement for the Attach to Process dialog,
      showing all the chrome processes running on the local machine, grouped by
      process type.
    </p>
    <img src="Screenshots/AttachToChromeMenuItem.png" />
    <img src="Screenshots/AttachToChrome.png" />
    <p>
      The Attach to Chrome dialog also allows users to attach to all current *and*
      future child processes that spawn, making simple otherwise difficult debugging
      scenarios involving child-process startup.
    </p>
    <h4>Current limitations of Auto attach to Child Processes:</h4>
    <ul>
      <li>
        Only works for processes attached through the Attach to Chrome dialog.
        In other words, launching via F5 is not supported for this feature.
      </li>
      <li>
        Does not support automatically attaching to future child processes of x64 parents.
      </li>
    </ul>
    <p>
      Both of these limitations will be removed in a subsequent release.
    </p>
    <h2>Known Issue: </h2>
    <p>
      Due to a <a href="https://connect.microsoft.com/VisualStudio/feedback/details/841994/visual-studios-heap-gets-corrupted-when-attaching-to-more-than-20-processes-from-an-experimental-instance">bug</a>
      in the Visual Studio IDE, it is not advisable to leave the processes debug window opened
      by default when using auto attach to children.
    </p>
  </div>

  <!--============================================================================-->
  <div id="advanced-visualizers">
    <h2>Advanced Debug Visualizers</h2>
    <p>
      Custom visualizers for visualizing complex Chromium specific data-types.
      Visualizers are included for the following types:
    </p>
    <ul>
      <li>base::Time (displays base::Time formatted as MM/DD/YYYY HH:MM:SS.XXXX)</li>
      <li>base::TimeDelta (displays base::TimeDelta formatted as HH:MM:SS.XXXX)</li>
    </ul>
    <p>
      Other, simpler visualizers are available in src\tools\win\DebugVisualizers.
    </p>
  </div>

  <hr />

  <!--============================================================================-->
  <div id="whatsnew">
    <h1>What's new</h1>
    <h2 id="whatsnew-0-9-30">v0.9.30</h2>
    <p>
      See <a href="https://github.com/chromium/vs-chromium/releases/tag/v0.9.30"
             target="_blank">v0.9.30 release notes</a>
    </p>

    <h2 id="whatsnew-0-9-29">v0.9.29</h2>
    <p>
      See <a href="https://github.com/chromium/vs-chromium/releases/tag/v0.9.29"
             target="_blank">v0.9.29 release notes</a>
    </p>

    <h2 id="whatsnew-0-9-28">v0.9.28</h2>
    <p>
      See <a href="https://github.com/chromium/vs-chromium/releases/tag/v0.9.28"
             target="_blank">v0.9.28 release notes</a>
    </p>

    <h2 id="whatsnew-0-9-23">v0.9.23</h2>
    <p>
      See <a href="https://github.com/chromium/vs-chromium/releases/tag/v0.9.23"
             target="_blank">v0.9.23 release notes</a>
    </p>

    <h2 id="whatsnew-0-9-22">v0.9.22</h2>
    <p>
      See <a href="https://github.com/chromium/vs-chromium/releases/tag/v0.9.22"
             target="_blank">v0.9.22 release notes</a>
    </p>

    <h2 id="whatsnew-0-9-21">v0.9.21</h2>
    <p>
      See <a href="https://github.com/chromium/vs-chromium/releases/tag/v0.9.21"
             target="_blank">v0.9.21 release notes</a>
    </p>

    <h2 id="whatsnew-0-9-20">v0.9.20</h2>
    <p>
      See <a href="https://github.com/chromium/vs-chromium/releases/tag/v0.9.20"
             target="_blank">v0.9.20 release notes</a>
    </p>

    <h2 id="whatsnew-0-9-19">v0.9.19</h2>
    <p>
      See <a href="https://github.com/chromium/vs-chromium/releases/tag/v0.9.19"
             target="_blank">v0.9.19 release notes</a>
    </p>

    <h2 id="whatsnew-0-9-18">v0.9.18</h2>
    <p>
      See <a href="https://github.com/chromium/vs-chromium/releases/tag/v0.9.18"
             target="_blank">v0.9.18 release notes</a>
    </p>

    <h2 id="whatsnew-0-9-17">v0.9.17</h2>
    <p>
      See <a href="https://github.com/chromium/vs-chromium/releases/tag/v0.9.17"
             target="_blank">v0.9.17 release notes</a>
    </p>

    <h2 id="whatsnew-0-9-16">v0.9.16</h2>
    <p>
      See <a href="https://github.com/chromium/vs-chromium/releases/tag/v0.9.16"
             target="_blank">v0.9.16 release notes</a>
    </p>

    <h2 id="whatsnew-0-9-15">v0.9.15</h2>
    <p>
      See <a href="https://github.com/chromium/vs-chromium/releases/tag/v0.9.15"
             target="_blank">v0.9.15 release notes</a>
    </p>

    <h2 id="whatsnew-0-9-14">v0.9.14</h2>
    <p>
      See <a href="https://github.com/chromium/vs-chromium/releases/tag/v0.9.14"
             target="_blank">v0.9.14 release notes</a>
    </p>

    <h2 id="whatsnew-0-9-9">v0.9.9</h2>
    <h3>Source Exporer features</h3>
    <ul>
      <li>Support for F8/Shift-F8 (goto next/previous result) when file contents search result is active.</li>
      <li>Support for traversing symlinks (i.e. reparse points) when enumerating files and directories.</li>
      <li>Additional button in Source Explorer toolbar to control whether searches include (or not) files and
        directories contained in symlink directories. This feature, along with the previous one, is particularly
        useful when working with Dart projects and packages, as package folders are symlinks to a local user folder.</li>
      <li>Fix support for certain wildcard pattern matching. E.g. foo/*/bar was not correctly supported.</li>
      <li>Improve caching validation algorithm, so that restarting Visual Studio is not necessary anymore when updating configuration file project.vs-chromium-project.</li>
      <li>Various UI and performance improvements.</li>
    </ul>
    <h2 id="whatsnew-0-9-8">v0.9.8</h2>
    <h3>Source Exporer features</h3>
    <ul>
      <li>Support for wildcard character ("*") in text searches.</li>
      <li>Support for context menus in tree view.</li>
      <li>Various UI and performance improvements.</li>
    </ul>
    <h3>Debugger features</h3>
    <ul>
      <li>Attach to Chrome and Child process debugging works with x64</li>
      <li>Child process debugging works in launch (i.e. F5) scenarios. Note this feature needs to be enabled by a toolbar button in Chromium Source Explorer</li>
    </ul>
    <h2 id="whatsnew-0-9-7">v0.9.7</h2>
    <h3>Debugger features</h3>
    <ul>
      <li>Automatically attach to child processes</li>
      <li>Custom visualizers for base::Time and base::TimeDelta</li>
    </ul>
    <h4>Current limitations of Auto attach to Child Processes:</h4>
    <ul>
      <li>
        Only works for processes attached through the Attach to Chrome dialog.
        In other words, launching via F5 is not supported for this feature.
      </li>
      <li>
        Does not support automatically attaching to future child processes of x64 parents.
      </li>
    </ul>
    <p>
      Both of these limitations will be removed in a subsequent release.
    </p>
    <h2>Known Issue: </h2>
    <p>
      Due to a <a href="https://connect.microsoft.com/VisualStudio/feedback/details/841994/visual-studios-heap-gets-corrupted-when-attaching-to-more-than-20-processes-from-an-experimental-instance">bug</a>
      in the Visual Studio IDE, it is not advisable to leave the processes debug window opened
      by default when using auto attach to children.
    </p>
    <h2 id="whatsnew-0-9-1">v0.9.1</h2>
    <h3>Debugger features</h3>
    <ul>
      <li>Attach to all running Chrome processes</li>
      <li>Attach to child Chrome processes</li>
    </ul>
    <h3>Editor features</h3>
    <ul>
      <li><a href="#pmconsole">Navigate to Build Errors</a></li>
      <li>Minor stability and performance improvements.</li>
    </ul>
   </div>

  <hr />

  <!--============================================================================-->
  <div id="configuration">
    <h1>Configuration</h1>

    <!--============================================================================-->
    <div id="project-files">
      <h2>Project file format</h2>

      <p>
        A <span class="highlight-inline">vs-chromium-project.txt</span> can
        contain up to three sections, defining the list of files and directories
        to include in the <a href="#source-explorer">Source Explorer</a> window
         and in the <a href="#code-search">Code Search</a></p>
      <table>
        <tr>
          <td valign="top"><b>[SourceExplorer.ignore]</b></td>
          <td valign="top">
            This section contains zero or more file path patterns, one per line,
            using the <a href="http://git-scm.com/docs/gitignore#_pattern_format" target="_blank">.gitignore</a>
            syntax, to filter the list of files and
            directories to include in the <a href="#source-explorer">Source Explorer</a> window.<br />
            Note that by default, all files and sub-directories are included
            in the <a href="#source-explorer">Source Explorer</a> window, so this section is optional.
            It is however sometimes convenient to exclude files and/or
            directories that don't contain interesting files (e.g. a .git
            directory).<br />
            Note this file is also implicitly used to filter the files and
            directories included in the index used by the <a href="#code-search">Code Search</a> feature.
          </td>
          <td valign="top">
            <div>Example</div>
            <div>
              <code>
                <b>
                  [SourceExplorer.ignore]<br />
                  .git/<br />
                  *.suo
                </b>
              </code>
            </div>
            <p>
              Indicates that no directory named <em>.git</em> and no file with
              the <em>.suo</em> extension should be shown in the
              <a href="#source-explorer">Source Explorer</a> window.
            </p>
          </td>
        </tr>
        <tr>
          <td valign="top"><b>[SearchableFiles.include]</b></td>
          <td valign="top">
            This section contains zero or more file path patterns, one per line,
            using the <a href="http://git-scm.com/docs/gitignore#_pattern_format" target="_blank">.gitignore</a> syntax, to specify which files to
            <bold>include</bold> in the index used by the <a href="#code-search">Code Search</a>  feature.<br />
            Ntoe that if this section is empty, no file is included in the index.
          </td>
          <td valign="top">
            <div>Example</div>
            <div>
              <code>
                <b>
                  [SearchableFiles.include]<br />
                  *
                </b>
              </code>
            </div>
            <p>
              Indicates that all files and directories should be included shown
              in the <a href="#source-explorer">Code Search</a> index.
            </p>
          </td>
        </tr>
        <tr>
          <td valign="top"><b>[SearchableFiles.ignore]</b></td>
          <td valign="top">
            This section uses a <a href="http://git-scm.com/docs/gitignore#_pattern_format" target="_blank">.gitignore</a> syntax to exclude files from the
            index used by the <a href="#code-search">Code Search</a> feature.<br />
            Adding entries to this section can be useful to decrease the size
            of the index by filtering out files that don't contain relevant
            text (e.g binary files).<br />
            Note that starting with version 0.9.14 of VsChromium, binary files
            are automatically excluded during index creation.
          </td>
          <td valign="top">
            <div>Example</div>
            <div>
              <code>
                <b>
                  [SearchableFiles.ignore]<br />
                  Debug/<br />
                  Release/<br />
                  *.pdb<br />
                  *.exe<br />
                  *.dll<br />
                </b>
              </code>
            </div>
          </td>
        </tr>
      </table>

      <img src="Screenshots/1.5-GettingStarted.png" />

    </div>

    <!--============================================================================-->
    <div id="tools-options">
      <h2>Tools&nbsp;|&nbsp;Options pages</h2>
      <p>
        VsChromium features can be enabled, disabled and customized through custom
        <a href="#tools-options">Tools&nbsp;|&nbsp;Options</a> pages.
      </p>

      <img src="Screenshots/0.5-ToolsOptions.png"/>
    </div>

    <!--============================================================================-->
    <div id="configuration-files">
      <h2>Configuration files</h2>
      <p>
        One of the goals of VsChromium is to work "out of the box". To enable this,
        a certain number of assumptions had to be made. Most of these assumptions
        are customizable through text based configuration files.
      </p>
      <p>
        By default, configuration files are installed and stored in the "Configuration"
        sub directory of the VsChromium installtion directory, typically the Visual Studio
        extension directory. Overriding a configuration file is as easy as creating a
        ".VsChromium" directory in the Windows' user folder ("c:\users\username"),
        make a copy of the relevant configuration file below, and edit it.
      </p>
      <p>
        After changing one or more configuration files, it is required to restart
        Visual Studio for the changes to take effect.
      </p>

      <h2>Configuration files related to Chromium Explorer and indexing</h2>
      <table>
        <tr>
          <td valign="top"><b>ChromiumEnlistmentDetection.patterns</b></td>
          <td>
            This file is used to determine whether file belongs to a Chromium enlistment.
            It is simply a list of directory and files names to look for when looking at
            the parent directories of a file. There should be no need to customize this
            file unless the Chromium enlistement significanly changes.
          </td>
        </tr>
        <tr>
          <td valign="top"><b>ChromiumExplorer.ignore</b></td>
          <td>
            This file uses a ".gitignore" syntax to filter the list fo directories
            and files to display in the Chromium Explorer tool window. The file could be
            in theory empty, but it is sometimes useful to ignore files/directories that
            don't contains files meaningful to day to day development (e.g. *.pdb, *.obj,
            etc. files).
            Note this file is also implicitly used to filter the results
            of "search file names" and "search directory names".
          </td>
        </tr>
        <tr>
          <td valign="top"><b>SearchableFiles.ignore</b></td>
          <td>
            This file uses a ".gitignore" syntax to exclude files from the
            "text search" feature. This is required to avoid loading GBs of irrelevant
            files in memory (e.g. build output files such as .obj, .exe, etc. fiels).
            This allows decreasing the amount of files loaded in memory from 30+GB
            typically found in a local Chromium enlistement directory to a more reasonable
            ~1.2GB of relevant source files.
          </td>
        </tr>
        <tr>
          <td valign="top"><b>SearchableFiles.include</b></td>
          <td>
            This file uses a (reverse) ".gitignore" syntax to include files into
            the "text seach" feature. This file is used as a 2nd pass after
            "SearchableFile.ignore" to filter out even more using inclusion rules.
          </td>
        </tr>
      </table>

      <h2>Configuration files related to Coding Style checkers</h2>
      <table>
        <tr>
          <td valign="top"><b>ChromiumEnlistmentDetection.patterns</b></td>
          <td>
            Same as above.
          </td>
        </tr>
        <tr>
          <td valign="top"><b>ChromiumStyleCheckers.disabled</b></td>
          <td>
            This file can be used to disable various style checkers. Simply un-comment
            the corresponding line.
          </td>
        </tr>
        <tr>
          <td valign="top"><b>ChromiumCodingStyle.ignore</b></td>
          <td>
            This file uses a ".gitignore" syntax to determine which files should
            <b>not</b> be validated by the Chromium Coding Style checker. This is needed
            because a Chromium enlistment contains third party libraries and generated
            files that don't always follow the Chromium Coding Style conventions.
          </td>
        </tr>
      </table>
      </div>
    </div>

  <hr />

  <!--============================================================================-->
  <div id="keyboard-shortcuts">
    <h1>Keyboard shortcuts</h1>
    <table>
      <thead>
        <tr>
          <th>Feature</th><th>Shortcut</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><a href="#code-search-search-code">Code Search</a></td>
          <td><span class="keyboard-shortcut">Ctrl-Shift-;</span></td>
        </tr>
        <tr>
          <td><a href="#code-search-file-paths">File Paths search</a></td>
          <td><span class="keyboard-shortcut">Ctrl-Shift-'</span></td>
        </tr>
        <tr>
          <td>Navigate to next search result</td>
          <td><span class="keyboard-shortcut">F8</span> or
          <span class="keyboard-shortcut">Ctrl-F8</span></td>
        </tr>
        <tr>
          <td>Navigate to previous search result</td>
          <td><span class="keyboard-shortcut">Shift-F8</span> or
          <span class="keyboard-shortcut">Ctrl-Shift-F8</span></td>
        </tr>
        <tr>
          <td>Format comment</td>
          <td><span class="keyboard-shortcut">Ctrl-K, C</span></td>
        </tr>
      </tbody>
    </table>
  </div>

  <hr />

  <!--============================================================================-->
  <div id="tech-specs">
    <h1>Technical specifications</h1>
    <p>
      From a technical perpective, the "search engine" used by VsChromium has
      been designed with the assumption that a good amount (e.g. at least 2GB) of
      physical memory is available. This allows the search engine to load all
      relevant source files in memory for fast brute-force text search.
    </p>
    <p>
      The search engine has been carefully optimized to make use of
      multi-core processors for many internal operations. So, in general, the more
      cores are available, the faster the engine is.
    </p>
    <p>
      For example, a HP Z620 with 2x8 cores processors and hyperthreading enabled,
      the search engine uses 32 worker threads (1 thread per logical processor).
    </p>
    <ul>
      <li>
        During initial file loading from an SSD, the engine loads 90,000+ files in
        parrallel and achieves ~80% CPU utilization. All files are usually loaded in
        less than 10 sec.
        <p class="warning">
          Warning: The indexing process can take significantly longer if the enlistment is
          located on an HDD drive as disk seek times are much slower.
        </p>
        <p class="warning">
          Warning: We also saw significant performance degradation on a SSD
          when "Real Time" disk activity monitoring of certain Anti Virus programs is
          active. This can be easily worked around by configuring the Anti Virus software
          to exclude the directory containing the local Chromium enlistment.
        </p>
      </li>
      <li>
        During a "Code Search" operation, the search engine partitions the set
        files to search into 32 equally sized partitions, runs a search query
        across as many threads as logical processors are available, then merge
        the results before sending back to the VsChromium package. Using
        efficient native c++ string search algorithms (
        <a href="http://www-igm.univ-mlv.fr/~lecroq/string/bndm.html">bndm</a>,
        <a href="http://en.wikipedia.org/wiki/Boyer-Moore_string_search_algorithm">Boyer-Moore</a>
        and <a href="https://code.google.com/p/re2/">Google's RE2 engine</a>),
        the search engine achieves throughputs of 15+GB/s, meaning a text
        search usually takes less than 0.1s with 1.2GB of source files.
      </li>
    </ul>
    <h2>Server process</h2>
    <p>
      To avoid competing with the VM address space of the Visual Studio process
      (devenv.exe), the VsChromium search engine runs as a child process of
      Visual Studio.
    </p>
    <p>
      Example of memory usage and process relationship after loading ~1.2GB of
      source files:
    </p>
    <img src="Screenshots/ProcessExplorer.png" />

    <p>
      The server process is always automatically terminated when the Visual Studio
      process is terminated. Each instance of Visual Studio uses its own instance
      of the VsChromium server process.
    </p>
    <p>
      IPC: The VsChromium package and the VsChromium server process use protobuf
      over a local TCP connection as IPC mechanism.
    </p>
    <p>
      To avoid running out of VM address space, the search engine runs as a
      64-bit process.
    </p>
  </div>

</div> <!-- content -->

</div> <!-- container -->

</body>
</html>
